<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
    <link rel="stylesheet" href="/static/css/bs5/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/project.css">
</head>
<main>
    <h2>회원가입</h2>
    <div class="d-flex justify-content-center align-items-center" style="height: 65vh">
        <form name="joinfrm" method="post" class="col-5">
            <input type="radio" name="nomeluser">일반사용자
            <img src="" alt="nomelimg" style="">
            <input type="radio" name="business">사업자사용자
            <img src="" alt="businessimg" style="">


            <div  class="row my-2"><label for="name" class="col-form-label col-4 text-end">이름</label>
                <div class="col-7">
                    <input type="text" name="name" id="name" required class="form-control"></div></div>
            <div class="birth" id="birth"></div>
                <select type="text" class="box" id="birth-year" placeholder="년(4자)" mexlength="4">
                    <option disabled selected>출생 연도</option>
                </select>
                 <select class="box" id="birth-month">
                     <option disabled selected>월</option>
                 </select>
                 <select class="box" id="birth-day">
                     <option disabled selected>일</option>
                 </select>

            <div class="row my-2"><label for="userid" class="col-form-label col-4 text-end">아이디</label>
                <div class="col-7">
                    <input type="text" name="userid" id="userid"
                           minlength="6" maxlength="18" required class="form-control "></div></div>
            <div  class="row my-2"><label for="passwd" class="col-form-label col-4 text-end">비밀번호</label>
                <div class="col-7">
                    <input type="text" name="passwd" id="passwd"
                           minlength="6" maxlength="18" required class="form-control"> </div></div>
            <div  class="row my-2"><label for="repasswd" class="col-form-label col-4 text-end">비밀번호 확인</label>
                <div class="col-7">
                    <input type="text" name="repasswd" id="repasswd"
                           minlength="6" maxlength="18" required class="form-control"></div></div>

            <div  class="row my-2"><label for="email" class="col-form-label col-4 text-end">이메일</label>
                <div class="col-7">
                    <input type="email" name="email" id="email" required class="form-control"></div></div>
            <div  class="row my-2"><label for="businsesno" class="col-form-label col-4 text-end">사업자 등록번호</label>
                <div class="col-7">
                    <input type="text" name="businsesno" id="businsesno" required class="form-control"></div></div>


            <div  class="row my-2"><label for="captcha" class="col-form-label col-4 text-end">자동가입방지</label>
                <div class="col-7"><div id="captcha"></div></div></div>

            <div  class="row my-2"><label class="col-4 text-end" ></label>

                <input type="radio" name="loginType" value="normal">일반 로그인
                <input type="radio" name="loginType" value="business">사업자 로그인
                <input type="radio" name="loginType" value="admin">운영자 로그인


                <div class="col-7">
                    <button type="button" id="joinbtn" class="btn btn-primary">입력완료</button>
                    <button type="reset" id="rstbtn" class="btn btn-danger">다시입력</button></div></div>

                <button class="kakao-login-button" onclick="loginWithKakao()">
                    <img src="/static/img/kakao_login_medium_narrow.png" alt="카카오 로그인">
                </button>


        </form>
    </div>

</main>

<script>
    let joinbtn = document.querySelector('#joinbtn')
    let joinfrm = document.joinfrm;

    let checkjoinfrm = (frm) => {
        if (frm.name.value === ''){
            alert('이름을 입력하세요');
            frm.name.focus();
            return false;
        }

        else if (frm.bi.value === ''){
            alert('생년월일을 입력하세요');
            frm.password.focus();
            return false;
        }

       else if (frm.password.value === ''){
            alert('비밀번호를 입력하세요');
            frm.password.focus();
            return false;
        }

       else  if (frm.repasswd.value !== frm.password.value ){
            alert('입력한 비밀번호가 같은지 확인하세요');
            frm.repasswd.focus();
            return false;
        }
        else if (frm.name.value === ''){
            alert('이름이 같은지 확인하세요');
            frm.name.focus();
            return false;
        }

        else if (frm.email.value === ''){
            alert('이메일을 입력하세요');
            frm.email.focus();
            return false;
        }

        else if (frm.businsesno.value === ''){
            alert('사업자 등록 번호를 입력하세요');
            frm.businsesno.focus();
            return false;
        }

    };


joinbtn.addEventListener('click', () => {
    if (!checkjoinfrm(joinfrm)) return;

    const formData = new FormData(joinfrm);
    console.log(formData);
})

    function loginWithKakao() {
        // 카카오 로그인 API 호출
        window.location.href = "https://kauth.kakao.com/oauth/authorize?client_id=YOUR_CLIENT_ID&redirect_uri=YOUR_REDIRECT_URI&response_type=code";
    }

</script>
</html>